<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>New Allocation</title>
    </h:head>
    <h:body>
        <h1 style="font-weight: bold; color: midnightblue;background-color: activecaption">Provide the following information for an Allocation</h1>
            <h:form id="addSaleForm"> <!-- create a form for user to enter information for an Allocation -->
                <table>
                    <tr>
                        <td><h:outputLabel for="propManager" value ="Property Manager : "/></td>
                        <td><h:selectOneMenu value="#{allocationController.managerName}" >
                             <c:forEach items="#{managerPropertyController.PManagerListD}" var="manager">
                                 <f:selectItem itemValue="#{manager.firstName} #{manager.lastName}" itemLabel="#{manager.firstName} #{manager.lastName}" />
                              </c:forEach>
                            </h:selectOneMenu>
                        </td>
                    </tr>
                    <tr>
                        <td><h:outputLabel for="saleProp" value ="Sale Property : "/></td>
                        <td><h:selectOneMenu value="#{allocationController.saleStreetName}">
                                <c:forEach items="#{forSaleController.forSalePropList}" var="sale">
                                    <f:selectItem itemValue="#{sale.streetNum} #{sale.streetName}" itemLabel="#{sale.streetNum} #{sale.streetName}" />
                              </c:forEach>
                            </h:selectOneMenu></td>
                        <td><h:commandButton  id ="allocateSale" value="Allocate" action="#{allocationController.doCreateSale}" /></td>
                    </tr>
                     <tr>
                   <td><h:outputLabel for="forRent" value ="For Rent Property : "/></td>
                   <td><h:selectOneMenu value="#{allocationController.rentalStreetName}">
                           <c:forEach items="#{forRentController.forRentPropList}" var="rent">
                                <f:selectItem itemValue="#{rent.streetNum} #{rent.streetName}" itemLabel="#{rent.streetNum} #{rent.streetName}" />
                              </c:forEach>
                        </h:selectOneMenu></td>
                   <td><h:commandButton id ="allocateForRent" value="Allocate" action="#{allocationController.doCreateRental}"/></td>
                </tr>
                    <tr>
                        <td><h:outputLabel for="inRent" value ="In Rent Property : "/></td>
                        <td><h:selectOneMenu value="#{allocationController.inRentStreetName}">
                             <c:forEach items="#{inRentController.inRentPropList}" var="innrent">
                                <f:selectItem itemValue="#{innrent.streetNum} #{innrent.streetName}" itemLabel="#{innrent.streetNum} #{innrent.streetName}" />
                              </c:forEach>
                            </h:selectOneMenu></td>
                        <td><h:commandButton id ="allocateInRent" value="Allocate" action="#{allocationController.doCreateInRent}" /></td>
                    </tr>

                </table>
                <h:messages for ="errorMessage" globalOnly="true" /> <!-- Global messages, error message from java classes -->
                <hr/>
                <h:link outcome="listAllocation" style ="margin-left: 30px">List of Allocation</h:link><span> | </span><h:link outcome="/index.xhtml">Main Page</h:link>
            </h:form>


    </h:body>
</html>

